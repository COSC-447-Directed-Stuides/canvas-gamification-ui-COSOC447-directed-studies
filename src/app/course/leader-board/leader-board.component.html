<div *ngIf="leaderBoard" class="tui-container tui-container_adaptive">
    <div class="top-x-islands tui-space_bottom-8">
        <tui-island *ngFor="let element of leaderBoard | tuiFilter: filterInTopX: rankTopX; let index = index" [style.marginTop]="(index) + 'rem'" [style.order]="(index % 2 * -index)"
                    class="top-x-island"
                    textAlign="center">
            <div [style.backgroundColor]="avatar.bgColor" class="top-x-background"></div>
            <figure class="tui-island__figure">
                <tui-avatar
                    #avatar
                    [autoColor]="true"
                    [rounded]="true"
                    [text]="element.name || 'Anonymous User'"
                    class="top-x-avatar"
                    size="l"
                ></tui-avatar>
            </figure>
            <p class="tui-island__paragraph tui-text_h3 tui-space_bottom-2">{{ getGetOrdinal(element.rank) }}</p>
            <h3 class="tui-island__title">
                {{ element.name || 'Anonymous User' }}
            </h3>
            <p class="tui-island__paragraph">
                {{ element.token ? (element.token + ' Tokens') : 'No Tokens' }}
            </p>
        </tui-island>
    </div>
    <table [columns]="displayedColumns" class="table" tuiTable>
        <thead tuiThead>
        <tr tuiThGroup>
            <th *tuiHead="'rank'" tuiTh>Rank</th>
            <th *tuiHead="'name'" tuiTh>Name</th>
            <th *tuiHead="'token'" tuiTh>Tokens</th>
        </tr>
        </thead>
        <tbody [data]="leaderBoard | tuiFilter: filterOutTopX: rankTopX" tuiTbody>
        <tr *tuiRow="let element of leaderBoard" tuiTr>
            <td *tuiCell="'rank'" tuiTd>
                {{ getGetOrdinal(element.rank) }}
            </td>
            <td *tuiCell="'name'" tuiTd>
                <div class="table-avatar-with-name">
                    <tui-avatar
                        [autoColor]="true"
                        [rounded]="true"
                        [text]="element.name || 'Anonymous User'"
                        class="tui-space_right-2"
                        size="s"
                    ></tui-avatar>
                    {{ element.name || 'Anonymous User' }}
                </div>
            </td>
            <td *tuiCell="'token'" tuiTd>
                {{ element.token || 'No Tokens' }}
            </td>
        </tr>
        </tbody>
    </table>
</div>
